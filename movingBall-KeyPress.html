<!DOCTYPE html>
<html>

      <title>Javascript</title>
      
      	
     	<script>
      	 	var canvas, context;
		  	var ball_x, ball_y;
		  	var dx, dy;
		  	var moveUp, moveDown, moveLeft, moveRight;
			var mouseDown, touchDown;
 			
 			function StartGame()
      	   	{
 				setupGame();
      	    	intervalId = setInterval(playGame, 5);
 			}
 		
 		
 			function StopGame()
      	  	{
      	  		clearInterval(intervalId);
      	  	}
 			
 			function setupGame()
 			{
 				canvas = document.getElementById("canvas");
				c = canvas.getContext("2d");
				ball_x = 200;
				ball_y = 200;
				dx = 5;
				dy = 5;
				moveUp = false;
				moveDown = false;
				moveLeft = false;
				moveRight = false;
				mouseDown = false;
				touchDown = false;
				
				window.addEventListener("keydown", onKeyDown);
				window.addEventListener("keyup", onKeyUp);
 			}
 			
 			function playGame()
 			{
 				c.clearRect(0, 0, canvas.width, canvas.height);
 				drawBall();
 				
 			}
 			
 			function drawBall()
 			{
 				c.beginPath();
      	   		c.arc(ball_x, ball_y, 15, 0, 2 * Math.PI, false);
      	   		c.fillStyle = "red";
      	   		c.fill();
      	   		if (moveLeft == true)
      	   		{
      	   		ball_x -= dx;
      	   		}
      	   		
      	   		if (moveRight == true)
      	   		{
      	   		ball_x += dx;
      	   		}
      	   		
      	   		if (moveUp == true)
      	   		{
      	   		ball_y += dy;
      	   		}
      	   		
      	   		if (moveDown == true)
      	   		{
      	   		ball_y -= dy;
      	   		}
      	   		
 			}
 			
 			function onKeyDown(evt)
 			{
 				console.log("Key Pressed",evt)
 				if (evt.keyCode == 37) 
 				{ 
 				moveLeft = true; 
 				} 
 				
				if (evt.keyCode == 38) 
				{
				 moveUp = true; 
				 }
				
				if (evt.keyCode == 39) 
				{ 
				moveRight = true; 
				} 
				
				if (evt.keyCode == 40) 
				{ 
				moveDown = true; 
				} 
				
 			}
 			
 			function onKeyUp(event)
 			{
 				console.log("Key Released")
 				if (event.keyCode == 37) 
 				{ 
 				moveLeft = false;
 				 } 
 				
				if (event.keyCode == 38) 
				{ 
				moveUp = false; 
				} 
				
				if (event.keyCode == 39) 
				{ 
				moveRight = false; 
				} 
				
				if (event.keyCode == 40) 
				{ 
				moveDown = false; 
				}
 			}
 		
 		
 		</script>
 
 
 
 
 <body>
    	
     		<canvas id="canvas" height="400px" width="400px" style="border:1px solid"></canvas>
			<br />
			<button onclick="StartGame()">Start</button>
			<button onclick="StopGame()">Stop</button>
      
   		 </body>
 </html>